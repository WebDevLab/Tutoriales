var $item,active,a,cpy;function inicia(b){b.dataTransfer.effectAllowed="move";var d=$(this);active=d.index();b.dataTransfer.setData("i",active);var c=new Image;c.src="http://3.bp.blogspot.com/-KRZG6ZAQ21k/UExPY4WPs8I/AAAAAAAAAVc/hcon2p4DJUY/s1600/trollface.png";c.width="50px";b.dataTransfer.setDragImage(c,50,50);cpy=d.clone()}
function suelta(b){b.preventDefault();b.stopPropagation();var d=$(this),c=d.index(),b=parseInt(b.dataTransfer.getData("i"));d.css({"border-width":"0"});if(c==b)return!1;$item.eq(b).remove();b<c?cpy.insertAfter($item.eq(c)):b>c&&cpy.insertBefore($item.eq(c));initComponents()}function encima(b){b.dataTransfer.dropEffect="move";b=$(this);if(b.index()===active)return!1;b.css({"border-style":"dashed","border-width":"1px 1px 1px 1px","border-color":"black"});return!1}
function entra(){return!1}function fin(){$(this).css({"border-width":"0"})}$(function(){initComponents()});function initComponents(){$item=$(".item");$.each($item,function(){this.ondragstart=inicia;this.ondragleave=fin;this.ondragover=encima;this.ondrop=suelta})};